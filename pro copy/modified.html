<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Railway Booking System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background: linear-gradient(135deg, #1a5276, #3498db);
            color: white;
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
        }

        .logo h1 {
            font-size: 24px;
            margin-left: 10px;
        }

        .logo-icon {
            font-size: 28px;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 20px;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        nav ul li a:hover {
            color: #f1c40f;
        }

        .hero {
            background: url("https://www.bing.com/th/id/OIP.3kG9In8qFdMAZwp7k77LlgHaFf?w=230&h=211&c=8&rs=1&qlt=90&o=6&dpr=1.3&pid=3.1&rm=2");
            height: 400px;
            display: flex;
            align-items: center;
            position: relative;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
        }

        .hero-content {
            position: relative;
            color: white;
            max-width: 600px;
            padding: 20px;
        }

        .hero-content h2 {
            font-size: 36px;
            margin-bottom: 15px;
        }

        .hero-content p {
            font-size: 18px;
            margin-bottom: 20px;
        }

        .search-box {
            background: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-top: -50px;
            position: relative;
            z-index: 10;
        }

        .search-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            margin-bottom: 5px;
            font-weight: 500;
            color: #555;
        }

        .form-group input, .form-group select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }

        .btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: background 0.3s;
            align-self: end;
        }

        .btn:hover {
            background: #c0392b;
        }

        .features {
            padding: 60px 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 40px;
            color: #2c3e50;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }

        .feature-card {
            background: white;
            border-radius: 8px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 40px;
            color: #3498db;
            margin-bottom: 15px;
        }

        .feature-card h3 {
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .trains {
            padding: 60px 0;
            background: #f9f9f9;
        }

        .train-list {
            display: grid;
            gap: 20px;
        }

        .train-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 15px;
        }

        .train-info h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .train-details {
            display: flex;
            gap: 15px;
            margin-bottom: 10px;
            color: #555;
        }

        .train-price {
            text-align: right;
        }

        .price {
            font-size: 24px;
            font-weight: 600;
            color: #e74c3c;
            margin-bottom: 10px;
        }

        .book-btn {
            background: #27ae60;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
        }

        .book-btn:hover {
            background: #219653;
        }

        footer {
            background: #2c3e50;
            color: white;
            padding: 40px 0 20px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .footer-column h3 {
            margin-bottom: 20px;
            font-size: 18px;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 10px;
        }

        .footer-column ul li a {
            color: #ddd;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-column ul li a:hover {
            color: #3498db;
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #444;
            color: #aaa;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }

            nav ul {
                margin-top: 15px;
                justify-content: center;
            }

            .hero {
                height: 300px;
            }

            .hero-content h2 {
                font-size: 28px;
            }

            .train-card {
                grid-template-columns: 1fr;
            }

            .train-price {
                text-align: left;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">üöÜ</span>
                    <h1>RailBook</h1>
                </div>
                <nav>
                    <ul>
                        <li><a href="#">Home</a></li>
                        <li><a href="#">Book Tickets</a></li>
                        <li><a href="#">My Bookings</a></li>
                        <li><a href="all-trains.html">All Trains</a></li>
                        <li><a href="#">PNR Status</a></li>
                        <li><a href="#">Login</a></li>
                    </ul>
                </nav>
            </div>
        </div>

            <!-- Search Results (populated dynamically) -->
            <section id="search-results" class="trains" style="display: none;">
                <div class="container">
                    <h2 class="section-title">Search Results</h2>
                    <div class="train-list" id="results-list">
                        <!-- Results inserted here -->
                    </div>
                </div>
            </section>
    </header>

    <section class="hero">
        <div class="container">
            <div class="hero-content">
               <u><b><h2>Book Train Tickets Easily</h2></b></u>
                <p>Find and book train tickets across India with our easy-to-use platform. Get the best deals and convenient travel options.</p>
            </div>
        </div>
    </section>

    <div class="container">
        <div class="search-box">
            <form class="search-form">
                <div class="form-group">
                    <label for="from">From</label>
                    <select id="from" required>
                        <option value="" disabled selected>Select departure station</option>
                        <option value="NDLS">New Delhi (NDLS)</option>
                        <option value="MUMBAI">Mumbai Central (BCT)</option>
                        <option value="Kolkata">Howrah Junction (HWH)</option>
                        <option value="Chennai">Chennai Central (MAS)</option>
                        <option value="Bangalore">Bengaluru City (SBC)</option>
                        <option value="Hyderabad">Hyderabad Deccan (HYB)</option>
                        <option value="Ahmedabad">Ahmedabad Junction (ADI)</option>
                        <option value="Pune">Pune Junction (PUNE)</option>
                        <option value="Jaipur">Jaipur Junction (JP)</option>
                        <option value="Lucknow">Lucknow Charbagh (LKO)</option>
                        <option value="Kanpur">Kanpur Central (CNB)</option>
                        <option value="Bhopal">Bhopal Junction (BPL)</option>
                        <option value="Patna">Patna Junction (PNBE)</option>
                        <option value="Guwahati">Guwahati (GHY)</option>
                        <option value="Chandigarh">Chandigarh Junction (CDG)</option>
                        <option value="Amritsar">Amritsar Junction (ASR)</option>
                        <option value="Varanasi">Varanasi Junction (BSB)</option>
                        <option value="Nagpur">Nagpur Junction (NGP)</option>
                        <option value="Coimbatore">Coimbatore Junction (CBE)</option>
                        <option value="Kochi">Ernakulam Junction (ERS)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="to">To</label>
                    <select id="to" required>
                        <option value="" disabled selected>Select arrival station</option>
                        <option value="NDLS">New Delhi (NDLS)</option>
                        <option value="MUMBAI">Mumbai Central (BCT)</option>
                        <option value="Kolkata">Howrah Junction (HWH)</option>
                        <option value="Chennai">Chennai Central (MAS)</option>
                        <option value="Bangalore">Bengaluru City (SBC)</option>
                        <option value="Hyderabad">Hyderabad Deccan (HYB)</option>
                        <option value="Ahmedabad">Ahmedabad Junction (ADI)</option>
                        <option value="Pune">Pune Junction (PUNE)</option>
                        <option value="Jaipur">Jaipur Junction (JP)</option>
                        <option value="Lucknow">Lucknow Charbagh (LKO)</option>
                        <option value="Kanpur">Kanpur Central (CNB)</option>
                        <option value="Bhopal">Bhopal Junction (BPL)</option>
                        <option value="Patna">Patna Junction (PNBE)</option>
                        <option value="Guwahati">Guwahati (GHY)</option>
                        <option value="Chandigarh">Chandigarh Junction (CDG)</option>
                        <option value="Amritsar">Amritsar Junction (ASR)</option>
                        <option value="Varanasi">Varanasi Junction (BSB)</option>
                        <option value="Nagpur">Nagpur Junction (NGP)</option>
                        <option value="Coimbatore">Coimbatore Junction (CBE)</option>
                        <option value="Kochi">Ernakulam Junction (ERS)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="date">Journey Date</label>
                    <input type="date" id="date" required>
                </div>
                <div class="form-group">
                    <label for="class">Class</label>
                    <select id="class">
                        <option value="all">All Classes</option>
                        <option value="1a">First AC</option>
                        <option value="2a">Second AC</option>
                        <option value="3a">Third AC</option>
                        <option value="sl">Sleeper</option>
                    </select>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn">Search Trains</button>
                </div>
            </form>
        </div>
    </div>

    <section class="features">
        <div class="container">
            <h2 class="section-title">Why Choose Us</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üé´</div>
                    <h3>Easy Booking</h3>
                    <p>Simple and intuitive ticket booking process with multiple payment options.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîç</div>
                    <h3>Live Tracking</h3>
                    <p>Real-time train status and platform information for your convenience.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üí∞</div>
                    <h3>Best Prices</h3>
                    <p>Get the best deals and discounts on train tickets across all classes.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üì±</div>
                    <h3>Mobile Friendly</h3>
                    <p>Book tickets on the go with our mobile-optimized website.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="trains">
        <div class="container">
            <h2 class="section-title">Popular Trains</h2>
            <div class="train-list">
                <div class="train-card">
                    <div class="train-info">
                        <h3>Rajdhani Express (12213)</h3>
                        <div class="train-details">
                            <span>New Delhi ‚Üí Mumbai</span>
                            <span>Departure: 16:25</span>
                            <span>Arrival: 08:35</span>
                        </div>
                        <div class="train-classes">
                            Available: 1A, 2A, 3A
                        </div>
                    </div>
                    <div class="train-price">
                        <div class="price">‚Çπ1,850</div>
                        <button class="book-btn">Book Now</button>
                    </div>
                </div>
                <div class="train-card">
                    <div class="train-info">
                        <h3>Shatabdi Express (12001)</h3>
                        <div class="train-details">
                            <span>New Delhi ‚Üí Bhopal</span>
                            <span>Departure: 06:00</span>
                            <span>Arrival: 11:30</span>
                        </div>
                        <div class="train-classes">
                            Available: CC, EC
                        </div>
                    </div>
                    <div class="train-price">
                        <div class="price">‚Çπ1,250</div>
                        <button class="book-btn">Book Now</button>
                    </div>
                </div>
                <div class="train-card">
                    <div class="train-info">
                        <h3>Duronto Express (12245)</h3>
                        <div class="train-details">
                            <span>Howrah ‚Üí New Delhi</span>
                            <span>Departure: 20:05</span>
                            <span>Arrival: 09:00</span>
                        </div>
                        <div class="train-classes">
                            Available: 1A, 2A, 3A
                        </div>
                    </div>
                    <div class="train-price">
                        <div class="price">‚Çπ1,650</div>
                        <button class="book-btn">Book Now</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#">Home</a></li>
                        <li><a href="#">Book Tickets</a></li>
                        <li><a href="#">Cancel Tickets</a></li>
                        <li><a href="#">PNR Status</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Information</h3>
                    <ul>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Terms & Conditions</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contact Info</h3>
                    <ul>
                        <li>Email: tigerparihar86@gmail.com</li>
                        <li>Phone: +91 7388657940</li>
                        <li>Address: panki Dham ,kanpur nagar</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 RailBook - Railway Booking System. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // --- Utilities & Dataset ---
        document.getElementById('date').min = new Date().toISOString().split('T')[0];

        // Sample client-side train dataset. In a real app this comes from the server.
        const TRAINS = [
            {
                id: '12213',
                name: 'Rajdhani Express',
                number: '12213',
                from: 'NDLS',
                to: 'MUMBAI',
                departure: '16:25',
                arrival: '08:35',
                classes: ['1a','2a','3a'],
                prices: { '1a':1850, '2a':1400, '3a':900, 'sl':520 },
                // seatLayout: map of class -> array of booleans (true = available)
                seatLayout: {
                    '1a': [true,true,false,true,true,true,true,false,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],
                    '2a': [true,true,true,true,false,true,true,true,true,false,true,true,true,true,true,true,true,true,true,true,true,true,true,true],
                    '3a': [true,true,true,false,true,true,true,false,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true]
                }
            },
            {
                id: '12001',
                name: 'Shatabdi Express',
                number: '12001',
                from: 'NDLS',
                to: 'Bhopal',
                departure: '06:00',
                arrival: '11:30',
                classes: ['cc','ec'],
                prices: { 'cc':1250, 'ec':850 },
                seatLayout: {
                    'cc': [true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],
                    'ec': [true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false]
                }
            },
            {
                id: '12245',
                name: 'Duronto Express',
                number: '12245',
                from: 'Kolkata',
                to: 'NDLS',
                departure: '20:05',
                arrival: '09:00',
                classes: ['1a','2a','3a'],
                prices: { '1a':1650, '2a':1250, '3a':900 },
                seatLayout: {
                    '1a': [false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],
                    '2a': [true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],
                    '3a': [true,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true]
                }
            },
            {
                id: '20801',
                name: 'Mumbai Mail',
                number: '20801',
                from: 'MUMBAI',
                to: 'PUNE',
                departure: '09:00',
                arrival: '12:30',
                classes: ['3a','sl'],
                prices: { '3a':600, 'sl':250 },
                seatLayout: {
                    '3a': [true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],
                    'sl': [true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false]
                }
            },
            {
                id: '12657',
                name: 'Bengaluru Express',
                number: '12657',
                from: 'Bangalore',
                to: 'Chennai',
                departure: '07:15',
                arrival: '13:50',
                classes: ['2a','3a','sl'],
                prices: { '2a':1100, '3a':750, 'sl':320 },
                seatLayout: {
                    '2a': [true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],
                    '3a': [true,true,true,true,true,true,false,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],
                    'sl': [true,true,false,true,true,true,false,true,true,true,false,true,true,true,false,true,true,true,false,true,true,true,true,true]
                }
            },
            {
                id: '12777',
                name: 'Hyderabad Express',
                number: '12777',
                from: 'Hyderabad',
                to: 'Bangalore',
                departure: '14:40',
                arrival: '21:10',
                classes: ['3a','sl'],
                prices: { '3a':680, 'sl':300 },
                seatLayout: {
                    '3a': [true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false],
                    'sl': [false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]
                }
            },
            {
                id: '12901',
                name: 'Gujarat Mail',
                number: '12901',
                from: 'Ahmedabad',
                to: 'Mumbai',
                departure: '23:55',
                arrival: '07:40',
                classes: ['1a','2a','3a','sl'],
                prices: { '1a':2000, '2a':1500, '3a':1000, 'sl':450 },
                seatLayout: {
                    '1a': [true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],
                    '2a': [true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],
                    '3a': [true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],
                    'sl': [true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true]
                }
            },
            {
                id: '13007',
                name: 'Kochi Express',
                number: '13007',
                from: 'Kochi',
                to: 'Bangalore',
                departure: '05:30',
                arrival: '12:10',
                classes: ['2a','3a','sl'],
                prices: { '2a':1200, '3a':800, 'sl':340 },
                seatLayout: {
                    '2a': [true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],
                    '3a': [true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],
                    'sl': [true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true]
                }
            }
        ];

        // --- Rendering logic ---
        const resultsSection = document.getElementById('search-results');
        const resultsList = document.getElementById('results-list');

        function clearResults() {
            resultsList.innerHTML = '';
        }

        function formatPrice(price) {
            return price ? `‚Çπ${price.toLocaleString()}` : '‚Äî';
        }

        function createTrainCard(train) {
            const card = document.createElement('div');
            card.className = 'train-card';

            const info = document.createElement('div');
            info.className = 'train-info';

            const title = document.createElement('h3');
            title.textContent = `${train.name} (${train.number})`;

            const details = document.createElement('div');
            details.className = 'train-details';
            details.innerHTML = `<span>${train.from} ‚Üí ${train.to}</span>
                                 <span>Departure: ${train.departure}</span>
                                 <span>Arrival: ${train.arrival}</span>`;

            const classesDiv = document.createElement('div');
            classesDiv.className = 'train-classes';
            classesDiv.innerHTML = `Available: ${train.classes.map(c=>c.toUpperCase()).join(', ')}`;

            info.appendChild(title);
            info.appendChild(details);
            info.appendChild(classesDiv);

            const priceCol = document.createElement('div');
            priceCol.className = 'train-price';

            // Price display: show each available class with price
            const priceList = document.createElement('div');
            Object.keys(train.prices).forEach(cls => {
                const p = document.createElement('div');
                p.style.marginBottom = '6px';
                p.innerHTML = `<strong>${cls.toUpperCase()}:</strong> ${formatPrice(train.prices[cls])}`;
                priceList.appendChild(p);
            });

            const btnWrap = document.createElement('div');
            btnWrap.style.display = 'flex';
            btnWrap.style.flexDirection = 'column';
            btnWrap.style.alignItems = 'flex-end';
            btnWrap.style.gap = '8px';

            const bookBtn = document.createElement('button');
            bookBtn.className = 'book-btn';
            bookBtn.textContent = 'Book Now';
            bookBtn.addEventListener('click', function() {
                alert(`Start booking for ${train.name} (${train.number})\nFrom: ${train.from} ‚Üí To: ${train.to}\nDeparture: ${train.departure}`);
            });

            const viewSeats = document.createElement('button');
            viewSeats.className = 'btn';
            viewSeats.style.background = '#3498db';
            viewSeats.style.alignSelf = 'end';
            viewSeats.textContent = 'Check Seats';
            viewSeats.addEventListener('click', function() {
                // open seats page with train number as query param
                window.location.href = `seats.html?train=${encodeURIComponent(train.number)}`;
            });

            btnWrap.appendChild(priceList);
            btnWrap.appendChild(bookBtn);
            btnWrap.appendChild(viewSeats);

            priceCol.appendChild(btnWrap);

            card.appendChild(info);
            card.appendChild(priceCol);

            return card;
        }

        function renderResults(trains, criteria) {
            clearResults();
            if (!trains.length) {
                const none = document.createElement('div');
                none.className = 'feature-card';
                none.innerHTML = `<h3>No trains found</h3>
                    <p>No matching trains for ${criteria.from} ‚Üí ${criteria.to} on ${criteria.date}.</p>
                    <p style="margin-top:12px;"><a href="all-trains.html" class="btn" style="text-decoration:none; display:inline-block;">View all trains</a></p>`;
                resultsList.appendChild(none);
                return;
            }

            // Sort by departure time (simple lexicographic for HH:MM)
            trains.sort((a,b) => a.departure.localeCompare(b.departure));

            trains.forEach(t => {
                const card = createTrainCard(t);
                resultsList.appendChild(card);
            }); 
        }

        // --- Search handling ---
        document.querySelector('.search-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const from = document.getElementById('from').value;
            const to = document.getElementById('to').value;
            const date = document.getElementById('date').value;
            const cls = document.getElementById('class').value; // 'all' or class code

            if (!from || !to || !date) {
                alert('Please fill in all fields');
                return;
            }

            if (from === to) {
                alert('Departure and arrival stations cannot be the same');
                return;
            }

            // Filter dataset
            let matches = TRAINS.filter(t => t.from === from && t.to === to);

            if (cls && cls !== 'all') {
                // normalize: allow values like '1a' or 'sl'
                const normalized = cls.toLowerCase();
                matches = matches.filter(t => t.classes.map(c=>c.toLowerCase()).includes(normalized));
            }

            // Show results
            resultsSection.style.display = 'block';
            renderResults(matches, { from, to, date, cls });

            // Scroll to results smoothly
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        });

        // Keep existing popular 'Book Now' buttons functional for static cards
        document.querySelectorAll('.book-btn').forEach(button => {
            button.addEventListener('click', function() {
                const trainCard = this.closest('.train-card');
                if (!trainCard) return;
                const trainName = trainCard.querySelector('h3')?.textContent || 'train';
                alert(`Booking process for ${trainName} would start here.`);
            });
        });
    </script>
</body>
</html>