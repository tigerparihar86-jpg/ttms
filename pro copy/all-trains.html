<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Trains - RailBook</title>
    <style>
        * { box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background:#f5f5f5; color:#333; }
        .container { max-width:1200px; margin:0 auto; padding:20px; }
        header { background: linear-gradient(135deg,#1a5276,#3498db); color:white; padding:15px 0; }
        .header-content { display:flex; justify-content:space-between; align-items:center; }
        nav ul { display:flex; list-style:none; }
        nav ul li { margin-left:20px; }
        nav ul li a { color:white; text-decoration:none; }
        .train-list { display:grid; gap:20px; margin-top:20px; }
        .train-card { background:white; padding:20px; border-radius:8px; box-shadow:0 3px 10px rgba(0,0,0,0.08); display:grid; grid-template-columns:1fr auto; gap:15px; }
        .train-info h3 { margin-bottom:10px; color:#2c3e50; }
        .train-details { color:#555; display:flex; gap:15px; margin-bottom:8px; }
        .train-classes { color:#777; }
        .train-price { text-align:right; }
        .book-btn { background:#27ae60; color:white; border:none; padding:8px 12px; border-radius:4px; cursor:pointer; }
        .back-link { background:#e74c3c; color:white; padding:8px 12px; border-radius:4px; text-decoration:none; }
        @media (max-width:768px){ .header-content{flex-direction:column} .train-card{grid-template-columns:1fr} .train-price{text-align:left} }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div>
                    <span style="font-size:28px">ðŸš†</span>
                    <strong style="margin-left:8px; font-size:20px">RailBook</strong>
                </div>
                <nav>
                    <ul>
                        <li><a href="modified.html">Home</a></li>
                        <li><a href="modified.html#search-results">Search</a></li>
                        <li><a href="#">My Bookings</a></li>
                        <li><a href="#">PNR Status</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <div class="container">
        <h2>All Available Trains</h2>
        <p>Below is the list of trains available in the sample dataset (client-side). Click "Book Now" to start a booking flow (simulated).</p>

        <div id="all-trains" class="train-list">
            <!-- populated by JS -->
        </div>

        <p style="margin-top:20px;"><a href="modified.html" class="back-link">Back to Home</a></p>
    </div>

    <script>
        // Duplicate dataset from modified.html (kept local to this page)
        const TRAINS = [
            { id: '12213', name: 'Rajdhani Express', number: '12213', from: 'NDLS', to: 'MUMBAI', departure: '16:25', arrival: '08:35', classes: ['1a','2a','3a'], prices: { '1a':1850, '2a':1400, '3a':900, 'sl':520 }, seatLayout:{'1a':[true,true,false,true,true,true,true,false,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],'2a':[true,true,true,true,false,true,true,true,true,false,true,true,true,true,true,true,true,true,true,true,true,true,true,true],'3a':[true,true,true,false,true,true,true,false,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true]} },
            { id: '12001', name: 'Shatabdi Express', number: '12001', from: 'NDLS', to: 'Bhopal', departure: '06:00', arrival: '11:30', classes: ['cc','ec'], prices: { 'cc':1250, 'ec':850 }, seatLayout:{'cc':[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],'ec':[true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false]} },
            { id: '12245', name: 'Duronto Express', number: '12245', from: 'Kolkata', to: 'NDLS', departure: '20:05', arrival: '09:00', classes: ['1a','2a','3a'], prices: { '1a':1650, '2a':1250, '3a':900 }, seatLayout:{'1a':[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],'2a':[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],'3a':[true,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true]} },
            { id: '20801', name: 'Mumbai Mail', number: '20801', from: 'MUMBAI', to: 'PUNE', departure: '09:00', arrival: '12:30', classes: ['3a','sl'], prices: { '3a':600, 'sl':250 }, seatLayout:{'3a':[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],'sl':[true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false]} },
            { id: '12657', name: 'Bengaluru Express', number: '12657', from: 'Bangalore', to: 'Chennai', departure: '07:15', arrival: '13:50', classes: ['2a','3a','sl'], prices: { '2a':1100, '3a':750, 'sl':320 }, seatLayout:{'2a':[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],'3a':[true,true,true,true,true,true,false,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],'sl':[true,true,false,true,true,true,false,true,true,true,false,true,true,true,false,true,true,true,false,true,true,true,true,true]} },
            { id: '12777', name: 'Hyderabad Express', number: '12777', from: 'Hyderabad', to: 'Bangalore', departure: '14:40', arrival: '21:10', classes: ['3a','sl'], prices: { '3a':680, 'sl':300 }, seatLayout:{'3a':[true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false],'sl':[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]} },
            { id: '12901', name: 'Gujarat Mail', number: '12901', from: 'Ahmedabad', to: 'Mumbai', departure: '23:55', arrival: '07:40', classes: ['1a','2a','3a','sl'], prices: { '1a':2000, '2a':1500, '3a':1000, 'sl':450 }, seatLayout:{'1a':[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],'2a':[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],'3a':[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],'sl':[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true]} },
            { id: '13007', name: 'Kochi Express', number: '13007', from: 'Kochi', to: 'Bangalore', departure: '05:30', arrival: '12:10', classes: ['2a','3a','sl'], prices: { '2a':1200, '3a':800, 'sl':340 }, seatLayout:{'2a':[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],'3a':[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],'sl':[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true]} }
        ];

        const list = document.getElementById('all-trains');

        function formatPrice(price){ return price ? `â‚¹${price.toLocaleString()}` : 'â€”'; }

        function createCard(t){
            const card = document.createElement('div'); card.className = 'train-card';
            const info = document.createElement('div'); info.className = 'train-info';
            const title = document.createElement('h3'); title.textContent = `${t.name} (${t.number})`;
            const details = document.createElement('div'); details.className = 'train-details'; details.innerHTML = `<span>${t.from} â†’ ${t.to}</span><span>Departure: ${t.departure}</span><span>Arrival: ${t.arrival}</span>`;
            const classesDiv = document.createElement('div'); classesDiv.className = 'train-classes'; classesDiv.textContent = `Available: ${t.classes.map(c=>c.toUpperCase()).join(', ')}`;
            info.appendChild(title); info.appendChild(details); info.appendChild(classesDiv);

            const priceCol = document.createElement('div'); priceCol.className = 'train-price';
            Object.keys(t.prices).forEach(cls=>{ const p = document.createElement('div'); p.innerHTML = `<strong>${cls.toUpperCase()}:</strong> ${formatPrice(t.prices[cls])}`; priceCol.appendChild(p); });
            const btn = document.createElement('button'); btn.className = 'book-btn'; btn.textContent = 'Book Now'; btn.addEventListener('click', ()=> alert(`Start booking for ${t.name} (${t.number})`));
            priceCol.appendChild(btn);

            // Check Seats button
            const checkBtn = document.createElement('button');
            checkBtn.className = 'btn';
            checkBtn.style.background = '#3498db';
            checkBtn.style.marginTop = '8px';
            checkBtn.textContent = 'Check Seats';
            checkBtn.addEventListener('click', ()=> { window.location.href = `seats.html?train=${encodeURIComponent(t.number)}`; });
            priceCol.appendChild(checkBtn);

            card.appendChild(info); card.appendChild(priceCol);
            return card;
        }

        // Render all
        TRAINS.forEach(t=> list.appendChild(createCard(t)));
    </script>
</body>
</html>